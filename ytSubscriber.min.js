(function(a){a.fn.ytSubscribe=function(k){var c=a.extend({button:{channel:"mycodingtricks",theme:"dark",count:"default",layout:"full",onytevent:function(l){return false}},structure:"<div class='ytSubscribe-btn'></div>"},k);f();b();return this.each(function(){var l=this;setInterval(function(){var m=a(l);var n=m.find("iframe");if(n.length>0){n.each(function(){var p=a(this),o=p.attr("src");if(typeof(o)!=="undefined"){if(i(o)!==false){if(p.parent().hasClass("ytSubscribe-iframe")!=true){p.wrap("<div class='ytSubscribe-iframe "+c.button.theme+"'></div>");g(p);h(l)}e(this)}}})}},1000)});function d(l){a(l).each(function(){a(this).find(".ytSubscribe-btn").each(function(){if(a(this).html()==""){var m="ytSubscribe-btn-"+j();a(this).attr("id",m);gapi.ytsubscribe.render(m,c.button)}})})}function b(){a("head").append("<style>@media (max-width:480px){.ytSubscribe-inner>* {float:none;}}.ytSubscribe-iframe .ytSubscribe{background:#F9F9F9;}.ytSubscribe-iframe.grey .ytSubscribe h3 {color: #fff !important;}.ytSubscribe-iframe.grey .ytSubscribe{background: #202020;color: #fff !important;}.ytSubscribe-iframe.dark .ytSubscribe{background:black;color:#fff !important;}.ytSubscribe{position:absolute;height:40px;width:100%;text-align:center;}.ytSubscribe-iframe>iframe{border:0px;margin-bottom:0px!important;}.ytSubscribe-btn{display:inline-block;width:190px;}.ytSubscribe-inner>*{float:left;}</style>")}function h(m){var l=setInterval(function(){if(typeof gapi!="undefined"){d(m);clearInterval(l)}else{f()}},1000)}function f(){a.getScript("https://apis.google.com/js/platform.js")}function g(l){l.after("<div class='ytSubscribe'><div class='ytSubscribe-inner'>"+c.structure+"</div></div>")}function e(l){var p=a(l);var v=p.parent();var m=v.find(".ytSubscribe");var n=m.height(),s=m.width(),r=p.position();var o=v.find(".ytSubscribe-inner");var u=o.innerWidth(),q=o.innerHeight();o.css({position:"absolute",marginTop:((n-q)/2)+"px",marginLeft:((s-u)/2)+"px"});var t=q+10;m.css({position:"absolute",top:(r.top+p.height())+"px",left:(r.left)+"px",height:t+"px"});v.css("margin-bottom",t+10+"px")}function j(){return Math.floor(Math.random()*100)+1}function i(l){var m=/^(?:https?:)?(?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;return(l.match(m))?true:false}}})(jQuery);
